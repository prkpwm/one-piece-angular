<div class="app">
  <header class="header">
    <h1>One Piece Episodes</h1>
    <div class="search">
      <input [(ngModel)]="searchTerm" (input)="filterEpisodes()" placeholder="Search episodes...">
    </div>
  </header>
  
  <main class="main">
    <div class="episodes-grid">
      <div *ngFor="let episode of paginatedEpisodes" class="episode-card" [class.seen]="episode.seen" (click)="playEpisode(episode)">
        <div class="episode-image">
          <img [src]="episode.imageUrl" [alt]="'Episode ' + episode.number" loading="lazy">
          <div class="play-overlay">
            <div class="play-button">▶</div>
          </div>
        </div>
        <div class="episode-info">
          <h3>EP {{episode.number.toString().padStart(3, '0')}}</h3>
          <p>{{episode.title}}</p>
        </div>
      </div>
    </div>
    
    <div class="pagination" *ngIf="totalPages > 1">
      <button (click)="prevPage()" [disabled]="currentPage === 1">‹</button>
      <span class="page-info">{{currentPage}} / {{totalPages}}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">›</button>
    </div>
  </main>

  <footer class="footer">
    <div class="skip-section">
      <h3>Season</h3>
      <div class="arc-buttons">
        <button (click)="showAllEpisodes()" class="all-btn" [class.active]="activeArc === null">Show All</button>
        <button (click)="skipToEpisode(1)" [class.active]="activeArc === 1">East Blue</button>
        <button (click)="skipToEpisode(62)" [class.active]="activeArc === 62">Grand Line</button>
        <button (click)="skipToEpisode(92)" [class.active]="activeArc === 92">Alabasta</button>
        <button (click)="skipToEpisode(144)" [class.active]="activeArc === 144">Skypiea</button>
        <button (click)="skipToEpisode(229)" [class.active]="activeArc === 229">Water 7</button>
        <button (click)="skipToEpisode(264)" [class.active]="activeArc === 264">Enies Lobby</button>
        <button (click)="skipToEpisode(326)" [class.active]="activeArc === 326">Thriller Bark</button>
        <button (click)="skipToEpisode(385)" [class.active]="activeArc === 385">Summit War</button>
        <button (click)="skipToEpisode(517)" [class.active]="activeArc === 517">Fish-Man Island</button>
        <button (click)="skipToEpisode(575)" [class.active]="activeArc === 575">Punk Hazard</button>
        <button (click)="skipToEpisode(629)" [class.active]="activeArc === 629">Dressrosa</button>
        <button (click)="skipToEpisode(747)" [class.active]="activeArc === 747">Zou</button>
        <button (click)="skipToEpisode(783)" [class.active]="activeArc === 783">Whole Cake</button>
        <button (click)="skipToEpisode(878)" [class.active]="activeArc === 878">Wano</button>
        <button (click)="skipToEpisode(1086)" [class.active]="activeArc === 1086">Egghead</button>
      </div>
    </div>
  </footer>

</div>