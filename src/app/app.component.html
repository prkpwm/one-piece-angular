<div class="app">
  <header class="header">
    <h1>One Piece Episodes</h1>
    <div class="controls">
      <input [(ngModel)]="searchTerm" (input)="filterEpisodes()" placeholder="Search episodes...">
      <button class="hide-seen-btn" (click)="toggleSeenEpisodes()" [class.active]="hideSeenEpisodes">
        <span class="desktop-text">{{hideSeenEpisodes ? 'Show Watched' : 'Hide Watched'}}</span>
        <span class="mobile-text">{{hideSeenEpisodes ? 'ðŸ‘»' : 'ðŸ”¥'}}</span>
      </button>
    </div>
  </header>
  
  <main class="main">
    <div class="episodes-grid">
      <div *ngFor="let episode of paginatedEpisodes" class="episode-card" [class.seen]="episode.seen" (click)="playEpisode(episode)">
        <div class="episode-image">
          <img [src]="episode.imageUrl" [alt]="'Episode ' + episode.number" loading="lazy" crossorigin="anonymous" referrerpolicy="no-referrer">
          <div class="play-overlay">
            <div class="play-button">â–¶</div>
          </div>
        </div>
        <div class="episode-info">
          <h3>EP {{episode.number.toString().padStart(3, '0')}}</h3>
          <p>{{episode.title}}</p>
        </div>
      </div>
    </div>
    
    <div class="pagination" *ngIf="totalPages > 1">
      <button (click)="prevPage()" [disabled]="currentPage === 1">â€¹</button>
      <span class="page-info">{{currentPage}} / {{totalPages}}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">â€º</button>
    </div>
  </main>

  <footer class="footer">
    <div class="skip-section">
      <h3>Season</h3>
      <div class="arc-buttons">
        <button (click)="showAllEpisodes()" class="all-btn" [class.active]="activeArc === null">Show All</button>
        <button (click)="skipToEpisode(1)" [class.active]="activeArc === 1">East Blue</button>
        <button (click)="skipToEpisode(53)" [class.active]="activeArc === 53">Grand Line</button>
        <button (click)="skipToEpisode(77)" [class.active]="activeArc === 77">Drum Island</button>
        <button (click)="skipToEpisode(93)" [class.active]="activeArc === 93">Alabasta</button>
        <button (click)="skipToEpisode(133)" [class.active]="activeArc === 133">Rainbow Arc</button>
        <button (click)="skipToEpisode(145)" [class.active]="activeArc === 145">Skypiea</button>
        <button (click)="skipToEpisode(197)" [class.active]="activeArc === 197">G-8 & Davy Back</button>
        <button (click)="skipToEpisode(229)" [class.active]="activeArc === 229">Water 7</button>
        <button (click)="skipToEpisode(265)" [class.active]="activeArc === 265">Enies Lobby</button>
        <button (click)="skipToEpisode(337)" [class.active]="activeArc === 337">Thriller Bark</button>
        <button (click)="skipToEpisode(385)" [class.active]="activeArc === 385">Sabaody</button>
        <button (click)="skipToEpisode(405)" [class.active]="activeArc === 405">Amazon Lily</button>
        <button (click)="skipToEpisode(421)" [class.active]="activeArc === 421">Impel Down</button>
        <button (click)="skipToEpisode(457)" [class.active]="activeArc === 457">Marineford</button>
        <button (click)="skipToEpisode(517)" [class.active]="activeArc === 517">Fish-Man Island</button>
        <button (click)="skipToEpisode(579)" [class.active]="activeArc === 579">Punk Hazard</button>
        <button (click)="skipToEpisode(629)" [class.active]="activeArc === 629">Dressrosa</button>
        <button (click)="skipToEpisode(751)" [class.active]="activeArc === 751">Zou</button>
        <button (click)="skipToEpisode(783)" [class.active]="activeArc === 783">Whole Cake</button>
        <button (click)="skipToEpisode(893)" [class.active]="activeArc === 893">Wano</button>
        <button (click)="skipToEpisode(1101)" [class.active]="activeArc === 1101">Egghead Island</button>
        <button (click)="skipToEpisode(1166)" [class.active]="activeArc === 1166">Egghead Incident</button>
        <button (click)="skipToEpisode(1211)" [class.active]="activeArc === 1211">World in Chaos</button>
        <button (click)="skipToEpisode(1241)" [class.active]="activeArc === 1241">Final Saga</button>
      </div>
    </div>
  </footer>

</div>